#
# /etc/solr.in.sh
# Generated by Chef
#

# Required Settings
SOLR_PID_DIR="<%= node['solr']['data_dir']%>"
SOLR_HOME="<%= node['solr']['data_dir']%>/data"
LOG4J_PROPS="<%= node['solr']['data_dir']%>/log4j.properties"
SOLR_LOGS_DIR="<%= node['solr']['data_dir']%>/logs"
SOLR_PORT="<%= node['solr']['port']%>"
SOLR_JAVA_MEM="<%= node['solr']['java_mem']%>"
SOLR_HOST="<%= node['solr']['host']%>"
SOLR_TIMEZONE="<%= node['solr']['timezone']%>"
GC_LOG_OPTS="<%= node['solr']['gc_log_opts']%>"
GC_TUNE="<%= node['solr']['gc_tune']%>"
SOLR_OPTS="<%= node['solr']['solr_opts']%>"

# Optional Settings
## Solr Cloud Mode
<%= "#" if node['solr']['zk_host'].blank? %>ZK_HOST="<%= node['solr']['zk_host']%>"
<%= "#" if node['solr']['zk_host'].blank? %>ZK_CLIENT_TIMEOUT="<%= node['solr']['zk_client_timeout']%>"

## Java Profiling Tools
ENABLE_REMOTE_JMX_OPTS="<%= node['solr']['enable_remote_jmx_opts']%>"
<%= "#" if node['solr']['enable_remote_jmx_opts'].downcase == 'false' %>RMI_PORT="<%= node['solr']['rmi_port']%>"

## Settings for authentication
<%= "#" if node['solr']['solr_authentication_client_configurer'].blank? %>SOLR_AUTHENTICATION_CLIENT_CONFIGURER="<%= node['solr']['solr_authentication_client_configurer']%>"
<%= "#" if node['solr']['solr_authentication_opts'].blank? %>SOLR_AUTHENTICATION_OPTS="<%= node['solr']['solr_authentication_opts']%>"

## SSL-related system properties
<%= "#" if node['solr']['solr_ssl_key_store'].blank? %>SOLR_SSL_KEY_STORE="<%= node['solr']['solr_ssl_key_store'] %>"
<%= "#" if node['solr']['solr_ssl_key_store_password'].blank? %>SOLR_SSL_KEY_STORE_PASSWORD="<%= node['solr']['solr_ssl_key_store_password'] %>"
<%= "#" if node['solr']['solr_ssl_trust_store'].blank? %>SOLR_SSL_TRUST_STORE="<%= node['solr']['solr_ssl_trust_store']%>"
<%= "#" if node['solr']['solr_ssl_trust_store_password'].blank? %>SOLR_SSL_TRUST_STORE_PASSWORD="<%= node['solr']['solr_ssl_trust_store_password']%>"
<%= "#" if node['solr']['solr_ssl_need_client_auth'].blank? %>SOLR_SSL_NEED_CLIENT_AUTH="<%= node['solr']['solr_ssl_need_client_auth']%>"
<%= "#" if node['solr']['solr_ssl_want_client_auth'].blank? %>SOLR_SSL_WANT_CLIENT_AUTH="<%= node['solr']['solr_ssl_want_client_auth']%>"

<%= "#" if node['solr']['solr_ssl_client_key_store'].blank? %>SOLR_SSL_CLIENT_KEY_STORE="<%= node['solr']['solr_ssl_client_key_store'] %>"
<%= "#" if node['solr']['solr_ssl_client_key_store_password'].blank? %>SOLR_SSL_CLIENT_KEY_STORE_PASSWORD="<%= node['solr']['solr_ssl_client_key_store_password'] %>"
<%= "#" if node['solr']['solr_ssl_client_trust_store'].blank? %>SOLR_SSL_CLIENT_TRUST_STORE="<%= node['solr']['solr_ssl_client_trust_store']%>"
<%= "#" if node['solr']['solr_ssl_client_trust_store_password'].blank? %>SOLR_SSL_CLIENT_TRUST_STORE_PASSWORD="<%= node['solr']['solr_ssl_client_trust_store_password']%>"